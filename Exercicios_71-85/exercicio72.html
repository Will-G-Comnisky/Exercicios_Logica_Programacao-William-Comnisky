<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <title>Exercicio 62</title>
</head>
<body>

    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
        }
        .formulario {
            border: 2px solid black;
            padding: 8px;
            margin: 16px auto;
            max-width: 400px;
            text-align: center;
        }
        input {
            margin-top: 4px;
        }

    </style>

    <div class="container">
        <div class="formulario">
        
            <h2> Algoritmo 62: </h2>
                
            <div class="form-group">
                <label for="idNome">Nome:</label>
                <input type="text" class="form-control" id="idNome" name="nmNome">
            </div>
            <br/><br/>
        
            <div class="form-group">
                <label for="idIdade">Idade:</label>
                <input type="number" class="form-control" id="idIdade" name="nmIdade">
            </div>
            <br/><br/>
        
        
            <input type="button" class="btn btn-primary" value="Registrar" onclick="registrar()">
            <br><br>
        
            <input type="button" class="btn btn-primary" value="Exibir Menores de 18" onclick="exibir()">
            <br><br>
            <output id="idExibir"></output>
                
        </div>
    </div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
<script>
    var nomes = [];
    var idades = [];
    var contador = 0;

    function registrar() {
            contador++;
            if (contador < 10) {
                nomes.push(document.getElementById('idNome').value);
                document.getElementById('idNome').value = '';
                idades.push(Number(document.getElementById('idIdade').value));
                document.getElementById('idIdade').value = '';
            } else {
                document.getElementById('idExibir').value = 'Você atingiu o número máximo de pessoas'
            }
            
        }

        function exibir() {
            let under18 = idades.filter(function(idade) {
                return idade < 18 
            });



            /*
            for (let i = 0; i < 9; i++) {
                if (idades[i] < 18) {
                    pessoas += nomes[i] + ' - ' + idades[i] + '\n ';
                }
            }
            */

            if (under18 == '' || under18 == 0) {
                document.getElementById('idExibir').innerText = 'Não há pessoas menores de 18 anos.'
            } else {
                let nomesMenor18 = under18.map(function (idade, index) {
            return nomes[index] + ' - ' + idade;
            /* 
idade é o elemento atual do array under18, no qual agora a idade representa uma idade menor que 18 anos.

index é o índice do elemento atual no array under18. Fornecido automaticamente pelo map e com isso é possível acessar o elemento correspondente no array nomes.

Dentro da função, combinamos o nome da pessoa e a idade para criar uma string "Nome - Idade". O nomes[index] é usado pra acessar o nome da pessoa pegando como referência o índice atual. O resultado é um array de strings que representam o nome da pessoa e sua idade. */
        });
        document.getElementById('idExibir').innerText = nomesMenor18.join('\n');
            }
        }

</script>